---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by soonyo.
--- DateTime: 2019/4/11 16:20
---

-----------------------------------------------------------------
--- 大奖池 jackpot
-----------------------------------------------------------------


-- 获取大奖池
function JackpotGet(gameTable)
    return gameTable.JackpotAll
end


-- 大奖池增加
function JackpotAdd(player, Score)
    local gameTable = player:GetTable()

    -- 大奖池的注入比率
    local dValue = Score * GetExcelValue(TBRoomExcel,gameTable.RoomScore,"jackpot") /10000

    -- 这里要改成读数据库

    -- 暂时先本地
    gameTable.JackpotAll = gameTable.JackpotAll + dValue

    local jackpotMax = GetExcelValue(TBRoomExcel, gameTable.RoomScore, "jackpotMax" )
    if gameTable.JackpotAll >= jackpotMax then
        gameTable.JackpotAll = jackpotMax
    end
end



