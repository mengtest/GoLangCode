---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Administrator.
--- DateTime: 2018/10/12 14:57
---

---------------------------------------------------------------------------------------------------------------
---------------------------------------------------------------------------------------------------------------
--- go 来创建和调用的通用代码处理模块， 用来处理世界boss，排行榜，各种公开活动
---------------------------------------------------------------------------------------------------------------
---------------------------------------------------------------------------------------------------------------


--公共逻辑循环处理
function GoCallLuaCommonLogicRun()
--    print("公共逻辑循环处理")
    ShowAllGameStates()
end

-- 每60秒记录一下，服务器的状态到数据库中
function GoCallLuaSaveServerState()
    local tableNum = 0
    for k, game in pairs(AllGamesList) do
        tableNum = tableNum + GetTableLen(game.AllTableList)
    end
    local state = {}
    state["TableNum"] = tableNum
    state["PlayerNum"] = GetTableLen(AllPlayerList)
    state["SendNum"] = ServerStateSendNum
    state["ReceiveNum"] = ServerStateReceiveNum
    RedisSaveServerState(state)
    ServerStateSendNum = 0
    ServerStateReceiveNum = 0       -- 记录完成，把数量清空
end


--夜里12点触发公共逻辑变动，因为新的一天开始了
function GoCallLuaCommonLogic12clock()
    print("夜里12点触发公共逻辑变动，因为新的一天开始了")
end


