syntax = "proto2";
package CMD;



//场景鱼
message tagSceneFish
{
	optional uint32			uid = 1;				//鱼UID
	optional uint32			kind_id = 2;			//鱼的类型读表用
	optional uint32			path_id = 3;			//路径ID
	optional int32			path_index = 4;			//当前所在的路径坐标索引
	optional uint32			tag = 5;				//标记(同类炸弹时标记为目标鱼kind_id)
	optional uint32			speed = 6;				//速度
	optional float			offset_x = 7;			//路径偏移
	optional float			offset_y = 8;			//路径偏移
	optional uint32         boat_id  = 9;           //所属船的ID
	optional uint32         alive_state = 10;       //在存活状态下子状态
	optional bool           is_form_fish = 11;      //是否属于鱼阵的鱼
}
//生成鱼
message CMD_S_DISTRIBUTE_FISH
{
	repeated tagSceneFish fishs = 1;					//生成的鱼
}
//客户端开炮
message CMD_C_USER_FIRE
{
	optional uint64 tick_count = 1;					//开炮时间
	optional float  angle = 2;						//角度
	optional uint32 lock_fish_id = 3;				//锁定鱼的UID
	optional uint32 bullet_mulriple = 4;			//子弹倍率
	optional uint32 bullet_temp_id = 5;				//子弹临时ID
	optional uint32 bullet_num = 6;				//子弹数量（炮管数量）
	optional bool   is_broadcast = 7;				//是否广播发射子弹
	optional bool   is_double = 8;                  //是否双倍子弹
	optional uint32  sf_skill_id = 9;               //技能鱼的技能ID
	optional uint32 monster_upper = 10;				// 妖怪房炮提升倍数	
};
//服务器返回客户端开炮
message CMD_S_USER_FIRE
{
	optional int32 chair_id			= 1;			//开炮的椅子
	optional uint32 bullet_id		= 2;			//子弹ID
	optional float angle			= 3;			//角度
	optional bool bullet_double		= 4;			//是否双倍
	optional uint32 bullet_mulriple = 5;			//子弹倍率
	optional uint32 lock_fish_id	= 6;			//锁定鱼的UID
	optional uint32 bullet_temp_id	= 7;			//子弹临时ID
	optional uint32 bind_user_id	= 8;            //子弹绑定的非机器人玩家ID，用来计算捕鱼发包
	optional uint32 bullet_num		= 9;			//子弹数量（炮管数量）
	optional int64 curr_score		= 10;			//当前分数
	optional uint32 curr_time       = 11;			//当前服务器时间，用于客户端同步显示
	optional uint32  sf_skill_id	= 12;           //技能鱼的技能ID
	optional int64  cost_score      = 13;           //子弹消耗的分数
	optional int64 curr_daimond		= 14;			//当前钻币
};
//使用技能
message CMD_C_USE_SKILL
{
	optional uint32 skill_id = 1;					//技能ID
	optional uint32 target_id = 2;					//目标
	optional bool	is_trigger = 3;					//是否特殊触发
};
//使用技能
message CMD_S_USE_SKILL
{
	optional int32 chair_id = 1;					//玩家椅子
	optional uint32	skill_id = 2;					//技能ID
	optional uint32	used = 3;						//已使用技能数
	optional uint32	total = 4;						//总共技能数
	optional uint32 score_cost = 5;					//金币消耗
	optional int32	skill_status = 6;				//技能状态
	optional uint32 bind_user_id= 7;				//技能绑定的非机器人玩家ID，用来计算捕鱼发包
	optional uint32 target_id = 8;					//目标
	optional uint32 add_secs = 9;					//增加时间
};